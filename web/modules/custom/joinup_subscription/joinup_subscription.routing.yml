joinup_subscription.subscriptions:
  path: '/user/{user}/subscriptions'
  defaults:
    _form: '\Drupal\joinup_subscription\Form\MySubscriptionsForm'
    # Since this route is for viewing other people's subscriptions, this is not
    # titled 'My subscriptions' but 'Subscription settings'.
    _title: 'Subscription settings'
  requirements:
    _custom_access: '\Drupal\joinup_subscription\Controller\MySubscriptionsController::access'
  options:
    parameters:
      user:
        type: entity:user

joinup_subscription.my_subscriptions:
  path: '/user/subscriptions/{subscription_type}'
  defaults:
    _controller: '\Drupal\joinup_subscription\Controller\MySubscriptionsController::build'
    _title: 'My subscriptions'
    # Set the default page to show collections.
    subscription_type: 'collection'
  requirements:
    _user_is_logged_in: 'TRUE'
    subscription_type: '(collection|solution)'

joinup_subscription.unsubscribe_all:
  path: '/user/{user}/unsubscribe-all/{bundle}'
  defaults:
    _form: '\Drupal\joinup_subscription\Form\UnsubscribeFromAllForm'
    _title: 'Unsubscribe from all groups'
    bundle: 'collection'
  requirements:
    _custom_access: '\Drupal\joinup_subscription\Form\UnsubscribeFromAllForm::access'
    bundle: '(collection|solution)'
  options:
    parameters:
      user:
        type: entity:user
