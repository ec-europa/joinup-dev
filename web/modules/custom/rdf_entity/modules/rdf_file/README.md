# RDF File

In a regular Drupal installation, files are referenced by their file id. However, the whole idea rdf entity is that it allows both federation and sharing.
(import and export you could say.) Referencing external fields is rather easy:
 One can simply link to a remote file and that is that. Things get a bit more complex when the same data model (and therefore field) is used for both remote and local files.

 ## Architecture
 At the field type level, all files (both local and remote) get stored as a URI.
 At the form level, a field widget takes care of either linking a remote file, or uploading one.
 When a local files is uploaded, it gets tracked by the file_managed table like any other file.
 The trick is that it gets transformed in a URI that contains the file id, so it can be extracted later.
 (when loading a file reference, the distinction between a local and remote file is made by a regex on the URI)
  On the display side, the URI simply gets rendered as a link.
 
 
 ## Dereferencing local files
 When the data generated by Drupal is loaded by a remote system (eg through the SPARQL endpoint), it needs to be able to resolve the referenced files.
  This is handled by issuing a redirect from the /file-dereference/{fid} to the actual path.
