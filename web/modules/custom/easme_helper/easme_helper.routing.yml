# Defines a route where a particular user's articles can be found.
easme_helper.update_user:
  # %jsonapi% is a placeholder for the JSON:API base path, which can be
  # configured in a site's services.yml file.
  path: '/%jsonapi%/user/{user}/update'
  methods: ['PUT']
  defaults:
    # Every JSON:API resource route must declare a _jsonapi_resource. The
    # value can either be a class or a service ID. Unlike the _controller
    # route default, it is not possible to declare a method name to be called.
    _jsonapi_resource: Drupal\easme_helper\Resource\UpdateUser
    _jsonapi_resource_types: ['user--user']
  requirements:
    _permission: 'administer users'
    #_entity_access: 'user.update'
    # The following requirements will automatically be set for every JSON:API
    # resource route and cannot be overridden here.
    # _content_type_format: api_json
    # _format: api_json
    # _auth: all enabled authentication providers will automatically apply
  options:
    parameters:
      user:
        type: entity:user

# Defines the route to be used when user is returning back from the Community
# site after profile update.
easme_helper.redirect_from_community_site:
  path: '/user/edit/smed'
  defaults:
    _controller: '\Drupal\easme_helper\Controller\GeneralController::redirectFromCommunitySite'
  requirements:
    _role: 'authenticated'
