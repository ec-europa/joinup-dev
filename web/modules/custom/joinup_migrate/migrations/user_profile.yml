id: user_profile
label: 'User profiles'
source:
  plugin: user_profile
process:
  uid:
    plugin: migration
    migration: user
    source: uid
    no_stub: true
  field_user_first_name: first_name
  field_user_family_name: last_name
# Blocked by https://webgate.ec.europa.eu/CITnet/jira/browse/ISAICP-2960
#  field_user_nationality:
#    plugin: term_reference
#    source: country
#    vocabulary: spatial
  field_user_organisation: company_name
  field_user_photo:
    plugin: migration
    migration: user_photo
    source: uid
    no_stub: true
  field_user_professional_profile/value: professional_profile
  field_user_professional_profile/format:
    plugin: default_value
    default_value: content_editor

destination:
  plugin: entity:user
#migration_dependencies:
#  required:
#    - user
#    - user_photo
