# The workflow of the news entity.
node:news:pre_moderated:
  id: pre_moderated
  label: "Pre moderated"
  group: news
  states:
    __new__:
      label: New
    draft:
      label: Draft
    proposed:
      label: Proposed
    validated:
      label: Validated
      published: true
    deletion_request:
      label: Request deletion
    needs_update:
      label: Needs update
  transitions:
    save_as_draft:
      label: Save as draft
      from: [__new__, draft]
      to: draft
    save_new_draft:
      label: Save new draft
      from: [validated]
      to: draft
    propose:
      label: Propose
      from: [__new__, draft, needs_update]
      to: proposed
    update_proposed:
      label: Update
      from: [proposed]
      to: proposed
    validate:
      label: Publish
      from: [__new__, draft, proposed, deletion_request]
      to: validated
    update_validated:
      label: Update
      from: [validated]
      to: validated
    needs_update:
      label: Request changes
      from: [proposed, validated]
      to: needs_update
    request_deletion:
      label: Request deletion
      from: [validated]
      to: deletion_request
    reject_deletion:
      label: Reject deletion
      from: [deletion_request]
      to: validated
node:news:post_moderated:
  id: post_moderated
  label: "Post moderated"
  group: news
  states:
    __new__:
      label: New
    draft:
      label: Draft
    proposed:
      label: Proposed
    validated:
      label: Validated
      published: true
    needs_update:
      label: Needs update
  transitions:
    save_as_draft:
      label: Save as draft
      from: [__new__, draft]
      to: draft
    save_new_draft:
      label: Save new draft
      from: [validated]
      to: draft
    propose:
      label: Propose
      from: [validated, needs_update]
      to: proposed
    update_proposed:
      label: Update
      from: [proposed]
      to: proposed
    validate:
      label: Publish
      from: [__new__, draft, proposed]
      to: validated
    update_validated:
      label: Update
      from: [validated]
      to: validated
    needs_update:
      label: Request changes
      from: [proposed, validated]
      to: needs_update
