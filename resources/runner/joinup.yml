# Configuration and commands specific for Joinup.

joinup:
  site_dir: ${joinup.dir}/web
  theme_dir: ${joinup.site_dir}/themes/joinup
  db_dir: ${joinup.dir}/db

scss:
  import_dir: ${joinup.theme_dir}/scss
  input: ${scss.import_dir}/app.scss
  output_dir: ${joinup.theme_dir}/css
  output: ${scss.output_dir}/style.min.css
  style: compressed

commands:
  # Compiles SCSS to CSS.
  joinup:compile-scss:
    - task: mkdir
      dir: ${scss.output_dir}
    # Compile SCSS for the old theme.
    - task: run
      command: assets:compile-scss
      arguments:
        - ${scss.input}
        - ${scss.output}
      options:
        style: ${scss.style}
        import-dir: ${scss.import_dir}
    # Compile assets for the new base theme (includes SCSS and JS).
    - task: run
      command: oe_bootstrap_theme:npm-run
      arguments:
        - dev
      options:
        npm-dir: web/themes/contrib/oe_bootstrap_theme
